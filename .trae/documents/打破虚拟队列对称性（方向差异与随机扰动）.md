## 原因定位
- 现在的“直行/左转队列”来自后端虚拟车流生成器。
- 生成器里存在两个会导致对称的点：
  1) 初始队列对称：North/South、East/West 的初始值被设成相同。
  2) 到达率/放行能力对称：`baseArrivalRates()` 对 East/West 在多数时段给的是完全相同的基准率（intersection=2 里 East=0.35、West=0.35），放行(capacity)也没有方向差异，因此长期会稳定成“镜像”。

## 目标
- 让对称方向（N/S、E/W）的直行/左转队列不再长期保持完全一致，同时保持整体趋势可控、不会抖得太夸张。

## 改造方案
### 1) 方向差异（确定性）
- 调整 `baseArrivalRates()`（或新增 `directionArrivalRates()`）为每个路口/时段提供“非对称”基准率：
  - 至少保证 East 与 West 不相等、North 与 South 不相等。
  - 差异幅度建议 10%–35%（避免太极端导致某一方向永远爆满）。
- 为直行/左转分别引入方向系数：例如某方向左转占比更高（相当于路口渠化不同）。
- 为放行(capacity)引入方向系数：例如某方向多一条车道，直行放行能力略高。

### 2) 小幅随机扰动（可复现/可控）
- 引入轻量级“种子随机数”(xorshift32)，以 `intersectionId+direction+movement` 作为种子来源。
- 每个 tick 给到达量加入小噪声（例如 ±10% 以内），并做平滑（低通/EMA）以免每帧跳变。
- 允许通过环境变量控制：
  - `VIRTUAL_FLOW_NOISE=0/1`（开关）
  - `VIRTUAL_FLOW_NOISE_PCT=10`（扰动幅度）

### 3) 初始队列打散
- `ensureState()` 初始化时，不再给 N/S、E/W 相同值：
  - 基于种子随机生成一个小偏移（例如 ±5），分别应用到 straight/left。

### 4) 验证
- 在 Demo 页观察：
  - N 与 S、E 与 W 的 straight/left 不再长期完全相等。
  - 直行绿灯时只影响 straight 队列、左转绿灯时只影响 left 队列（保持你刚要求的修复不回退）。
- 通过接口 `GET /api/vehicle-flows/realtime-split` 连续采样 1–2 分钟，确认对称不再“锁死”。

我会按以上步骤修改虚拟车流生成器：打破对称基准率 + 初始值打散 + 可控随机扰动，并做本地验证后提交变更。